
  <mat-spinner *ngIf="isLoading"></mat-spinner>
  <app-form [formGroup]="form"  (submitted)="onSavePost()"  *ngIf="!isLoading">
    <mat-card-title>Create new Post</mat-card-title>
    <app-input-form
      label="Title"
      minLength="3"
      errorMessage="Please enter a post title"
      [control]="getTitle()"
      [placeholder]="getTitle().placeholder"
    ></app-input-form>
    <div>
      <button mat-stroked-button type="button" (click)="filepicker.click()">Pick Image</button>
      <input type="file" #filepicker (change)="onImagePicked($event)"/>
    </div>
    <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.valid">
      <img [src]="imagePreview" [alt]="form.value.title"/>
    </div>
    <app-form-text-area
      label="Content"
      rows="4"
      errorMessage="Please enter content"
      minLength="3"
      [control]="getContent()"
      [placeholder]="getContent().placeholder"
    ></app-form-text-area>
    <app-form-actions accept="submit" reject="cancel" [formGroup]="form"></app-form-actions>
  </app-form>

